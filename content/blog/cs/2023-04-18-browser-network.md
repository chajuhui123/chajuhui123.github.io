---
title: "사용자가 웹브라우저에 접속하면 무슨 일이 일어날까? (네트워크 관점)"
date: 2023-04-18
category: "CS"
draft: false
---

프론트엔드 개발자의 테크 면접 필수 질문 중 하나는 "브라우저의 동작 원리"인데요.

간단하게 정리해보면 아래와 같습니다.

- 파싱 : HTML을 통해 DOM 트리를, CSS를 통해 CSSOM 트리를 빌드
- 랜더 트리 : DOM과 CSSOM을 결합하여 랜더 트리 형성
- 레이아웃 및 리플로우 : 랜더 트리에서 레이아웃을 실행하여 각 노드의 기하학적 형태를 계산
- 페인트 : 개별 노드를 화면에 페인트

이번 포스팅에서는 그동안 익숙했던 프론트엔드 관점이 아닌!

네트워크의 관점에서 데이터가 어떻게 흘러가고, 우리에게 도달하는지 정리를 해보겠습니다.

---

## 네트워크 구성

웹 사이트에 접속할 때, OSI 모델에서 발생하는 일을 정리하면 다음과 같습니다.

- `응용 계층` (세션 계층, 표현 계층 포함) : 애플리케이션 등에서 사용하는 데이터를 송수신
- `전송 계층` : 목적지에 데이터를 정확하게 전달
- `네트워크 계층` : 다른 네트워크에 있는 목적지에 데이터를 전달
- `데이터 링크 계층` : 랜에서 데이터를 송수신
- `물리 계층` : 데이터를 전기 신호로 변환

![네트워크의 구성](../../../src/images/browser-1.png)

위의 네트워크 구성에서 네트워크의 갯수는 `192.168.1.0/24`, `172.16.0.0/16`, `192.168.10.0/24` 로 총 3개입니다.

![OSI 모델로 나타낸 네트워크의 구성](../../../src/images/browser-2.png)

또한 예시로 첨부한 네트워크 구성을 OSI 모델로 표현하면 위의 이미지처럼 정리할 수 있습니다.

사용자가 웹 브라우저에 URL을 입력하고, 웹 서버에 도착할 때까지 `캡슐화`와 `역캡슐화` 과정이 존재합니다.

## 컴퓨터의 데이터가 전기 신호로 변환되는 과정

먼저 컴퓨터에서 OSI 모델의 캡슐화가 이루어집니다. `응용 계층`부터 시작이 되며, 사용자가 웹 브라우저에 URL을 입력하고 접속하는 순간, `캡슐화`가 진행됩니다. (`3-way 핸드쉐이크`는 이미 완료되어 연결이 확립되어 있다 가정)

웹 브라우저를 이용하여, 웹 서버의 웹 사이트를 접속하기 위한 요청은 `HTTP` 프로토콜입니다. 응용 계층은 전송 계층으로 HTTP 메시지를 보냅니다.

- ex. `GET /index.html HTTP/1.1`

전송 계층에서는 TCP 헤더가 붙습니다. 출발지 포트 번호와 목적지 포트 번호를 담고 있습니다. TCP 헤더를 가진 데이터는 세그먼트입니다. 이 세그먼트를 네트워크 계층에 전달합니다.

---

- 참고

1. [프론트엔드 개발자라면 알고 있어야 할 브라우저의 동작 과정](https://yozm.wishket.com/magazine/detail/1338/)
2.
